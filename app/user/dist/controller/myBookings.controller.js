sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n){"use strict";let o=[];let i=[];return e.extend("app.user.controller.myBookings",{onInit:function(){let e=this.getOwnerComponent().getModel();let t=e.bindList("/Users");let n=this.getOwnerComponent().getModel();let s=n.bindList("/Bookings");Promise.all([t.requestContexts(0,Infinity).then(function(e){e.forEach(function(e){o.push(e.getObject())})}),s.requestContexts(0,Infinity).then(function(e){e.forEach(function(e){i.push(e.getObject())})})]).then(function(){let e=new sap.ui.model.json.JSONModel;let t=sap.ui.getCore().getModel("loggedInUser");if(t){let n=t.getProperty("/username");let s=i.filter(function(e){return e.username===n});e.setData({bookings:s});this.getView().setModel(e,"userBookings");console.log("bookings",s);console.log("BookData",i);console.log("userData",o)}else{console.error("No logged-in user found.")}}.bind(this))},onSearch:function(e){var o=e.getParameter("newValue");var i=[];if(o&&o.length>0){var s=new t({filters:[new t("trainName",n.Contains,o)],and:false});i.push(s)}var r=this.byId("bookingsTable");var l=r.getBinding("items");l.filter(i,"Application")}})});
//# sourceMappingURL=myBookings.controller.js.map